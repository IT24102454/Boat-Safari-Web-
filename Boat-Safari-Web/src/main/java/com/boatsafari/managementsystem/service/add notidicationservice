package com.example.boatsafariweb.service;

import com.example.boatsafariweb.model.SafariGuide;
import com.example.boatsafariweb.model.Trip;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Service;

@Service
public class NotificationService {
    private static final Logger logger = LoggerFactory.getLogger(NotificationService.class);

    public void notifyStaff(SafariGuide guide, Trip trip, String message) {
        String guideInfo = (guide == null) ? "<unknown>" : (guide.getId() != null ? guide.getId().toString() : "<no-id>") + " (" + guide.getUsername() + ")";
        String tripInfo = (trip == null) ? "<unknown>" : (trip.getId() != null ? trip.getId().toString() : "<no-id>") + " on " + trip.getDate();
        String out = String.format("[NOTIFY] To guide %s about trip %s: %s", guideInfo, tripInfo, message == null ? "(no message)" : message);
        logger.info(out);
    }
}
